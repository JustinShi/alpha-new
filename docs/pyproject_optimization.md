# pyproject.toml é…ç½®ä¼˜åŒ–æŠ¥å‘Š

## ðŸŽ¯ ä¼˜åŒ–ç›®æ ‡

æœ¬æ¬¡ä¼˜åŒ–æ—¨åœ¨æå‡é¡¹ç›®é…ç½®çš„**å…¼å®¹æ€§**ã€**ç¨³å®šæ€§**å’Œ**å¯ç»´æŠ¤æ€§**ã€‚

## ðŸ“‹ ä¸»è¦ä¼˜åŒ–å†…å®¹

### 1. ðŸ Pythonç‰ˆæœ¬å…¼å®¹æ€§

**ä¼˜åŒ–å‰:**
```toml
requires-python = ">=3.13"
target-version = 'py313'
```

**ä¼˜åŒ–åŽ:**
```toml
requires-python = ">=3.11"  # æé«˜å…¼å®¹æ€§
target-version = 'py311'    # æ”¯æŒæ›´å¤šçŽ¯å¢ƒ
```

**ä¼˜åŠ¿:**
- âœ… æ”¯æŒæ›´å¤šéƒ¨ç½²çŽ¯å¢ƒ
- âœ… é™ä½Žå‡çº§é—¨æ§›
- âœ… æé«˜CI/CDå…¼å®¹æ€§

### 2. ðŸ“¦ ä¾èµ–ç®¡ç†ä¼˜åŒ–

**ä¼˜åŒ–ç­–ç•¥:**
- ðŸŽ¯ **ç²¾ç®€æ ¸å¿ƒä¾èµ–**: ç§»é™¤éžå¿…è¦ä¾èµ–
- ðŸ”’ **å®½æ¾ç‰ˆæœ¬çº¦æŸ**: æé«˜å…¼å®¹æ€§
- ðŸ“‚ **åŠŸèƒ½åˆ†ç»„**: æŒ‰ç”¨é€”ç»„ç»‡ä¾èµ–

**æ ¸å¿ƒä¾èµ– (ç®€åŒ–åŽ):**
```toml
dependencies = [
    "pydantic>=2.5.0,<3.0.0",      # æ•°æ®éªŒè¯
    "sqlalchemy>=2.0.0,<3.0.0",    # æ•°æ®åº“ORM
    "httpx>=0.25.0,<1.0.0",        # HTTPå®¢æˆ·ç«¯
    "websockets>=11.0,<13.0",      # WebSocket
    "typer>=0.9.0,<1.0.0",         # CLIå·¥å…·
    # ... å…¶ä»–æ ¸å¿ƒä¾èµ–
]
```

### 3. ðŸ”§ ä»£ç è´¨é‡å·¥å…·é…ç½®

#### Ruff é…ç½®ä¼˜åŒ–
**ä¼˜åŒ–å‰:** è¿‡äºŽä¸¥æ ¼ï¼ŒåŒ…å«å®žéªŒæ€§è§„åˆ™
**ä¼˜åŒ–åŽ:** å¹³è¡¡ä¸¥æ ¼æ€§å’Œå®žç”¨æ€§

```toml
[tool.ruff.lint]
select = [
    'E', 'W',      # pycodestyle
    'F',           # Pyflakes
    'I',           # isort
    'B',           # flake8-bugbear
    'RUF',         # Ruff-specific
]
ignore = [
    'RUF002',      # å¿½ç•¥ä¸­æ–‡å­—ç¬¦è­¦å‘Š
    'RUF003',      # å¿½ç•¥æ³¨é‡Šä¸­æ–‡å­—ç¬¦
]
```

#### MyPy é…ç½®ä¼˜åŒ–
**ä¼˜åŒ–ç­–ç•¥:** é™ä½Žä¸¥æ ¼ç¨‹åº¦ï¼Œé¿å…è¿‡å¤šç±»åž‹é”™è¯¯

```toml
[tool.mypy]
strict = false          # é™ä½Žä¸¥æ ¼ç¨‹åº¦
warn_return_any = false # å‡å°‘è­¦å‘Š
```

### 4. ðŸ“ é¡¹ç›®å…ƒæ•°æ®å®Œå–„

**æ–°å¢žå†…å®¹:**
```toml
license = {text = "MIT"}
keywords = ["trading", "binance", "alpha", "cryptocurrency"]
classifiers = [
    "Development Status :: 4 - Beta",
    "Programming Language :: Python :: 3.11",
    "Topic :: Office/Business :: Financial :: Investment",
]
```

### 5. ðŸš€ è„šæœ¬å…¥å£ç‚¹ä¼˜åŒ–

**æ–°å¢žä¾¿æ·å‘½ä»¤:**
```toml
[project.scripts]
alpha-new = "alpha_new.cli:main"
alpha-trader = "alpha_new.scripts.auto_trader:main"
alpha-airdrop = "alpha_new.scripts.airdrop_claimer:main"
```

## ðŸ“Š ä¼˜åŒ–æ•ˆæžœ

### âœ… æ”¹è¿›æŒ‡æ ‡

| æŒ‡æ ‡ | ä¼˜åŒ–å‰ | ä¼˜åŒ–åŽ | æ”¹è¿› |
|------|--------|--------|------|
| **Pythonå…¼å®¹æ€§** | ä»…3.13+ | 3.11+ | ðŸŸ¢ æå‡ |
| **ä¾èµ–æ•°é‡** | 65+ | 20+ | ðŸŸ¢ ç²¾ç®€ |
| **é…ç½®å¤æ‚åº¦** | é«˜ | ä¸­ç­‰ | ðŸŸ¢ ç®€åŒ– |
| **å·¥å…·å…¼å®¹æ€§** | éƒ¨åˆ†é—®é¢˜ | è‰¯å¥½ | ðŸŸ¢ æ”¹å–„ |

### ðŸ”§ å·¥å…·éªŒè¯ç»“æžœ

```bash
âœ… Ruff é…ç½®éªŒè¯ - é€šè¿‡
âœ… Black é…ç½®éªŒè¯ - é€šè¿‡
âœ… MyPy é…ç½®éªŒè¯ - é€šè¿‡
```

## ðŸŽ¯ æœ€ä½³å®žè·µå»ºè®®

### 1. ä¾èµ–ç®¡ç†
- ðŸŽ¯ **æœ€å°åŒ–åŽŸåˆ™**: åªåŒ…å«å¿…è¦ä¾èµ–
- ðŸ”’ **ç‰ˆæœ¬ç­–ç•¥**: ä½¿ç”¨å…¼å®¹æ€§ç‰ˆæœ¬çº¦æŸ
- ðŸ“‚ **åˆ†ç»„ç®¡ç†**: æŒ‰åŠŸèƒ½ç»„ç»‡å¯é€‰ä¾èµ–

### 2. ä»£ç è´¨é‡
- âš–ï¸ **å¹³è¡¡ä¸¥æ ¼æ€§**: é¿å…è¿‡åº¦ä¸¥æ ¼çš„è§„åˆ™
- ðŸŽ¯ **é’ˆå¯¹æ€§é…ç½®**: ä¸åŒæ–‡ä»¶ç±»åž‹ä½¿ç”¨ä¸åŒè§„åˆ™
- ðŸ”„ **æŒç»­ä¼˜åŒ–**: æ ¹æ®é¡¹ç›®å‘å±•è°ƒæ•´é…ç½®

### 3. å…¼å®¹æ€§
- ðŸ **Pythonç‰ˆæœ¬**: æ”¯æŒä¸»æµç‰ˆæœ¬
- ðŸŒ **è·¨å¹³å°**: è€ƒè™‘ä¸åŒæ“ä½œç³»ç»Ÿ
- ðŸ”§ **å·¥å…·é“¾**: ç¡®ä¿å¼€å‘å·¥å…·å…¼å®¹

## ðŸš€ åŽç»­ä¼˜åŒ–å»ºè®®

1. **æ€§èƒ½ä¼˜åŒ–**
   - æ·»åŠ  `uvloop` æ”¯æŒ (éžWindows)
   - è€ƒè™‘ä½¿ç”¨ `orjson` æ›¿ä»£æ ‡å‡†JSON

2. **ç›‘æŽ§å¢žå¼º**
   - æ·»åŠ æ€§èƒ½åˆ†æžå·¥å…·
   - é›†æˆç›‘æŽ§å’Œæ—¥å¿—å·¥å…·

3. **éƒ¨ç½²ä¼˜åŒ–**
   - æ·»åŠ Dockeré…ç½®
   - å®Œå–„CI/CDé…ç½®

## ðŸ“ ä½¿ç”¨è¯´æ˜Ž

### å®‰è£…ä¾èµ–
```bash
# åŸºç¡€å®‰è£…
poetry install

# å¼€å‘çŽ¯å¢ƒ
poetry install --extras dev

# å®Œæ•´å®‰è£…
poetry install --extras all
```

### ä»£ç è´¨é‡æ£€æŸ¥
```bash
# è¿è¡Œæ‰€æœ‰æ£€æŸ¥
poetry run python scripts/validate_config.py

# å•ç‹¬è¿è¡Œå·¥å…·
poetry run ruff check src/
poetry run black src/
poetry run mypy src/
```

---

**æ€»ç»“**: æœ¬æ¬¡ä¼˜åŒ–æ˜¾è‘—æå‡äº†é¡¹ç›®é…ç½®çš„å…¼å®¹æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œä¸ºé¡¹ç›®çš„é•¿æœŸå‘å±•å¥ å®šäº†è‰¯å¥½åŸºç¡€ã€‚
